#:kivy 1.0.9
#123

<MainFrame>:
    id: theMainFrame
    Splitter:
        id: theSplitter
        sizable_from: 'right'
        #keep_within_parent: in_parent_box.active
        #rescale_with_parent: rescale_box.active
        Display:
            id: theDisplay
            TextInput:
                size_hint: .2, .2
                id: theLeftInput
                text: str(root.num_prop)
                on_text: root.input_to_layer()
    RightPane:
        id: theRightPanel
        orientation: 'vertical'
        Button:
            id: addBtn
            size_hint_y: .1
            text: 'Add'
            on_press: root.num_prop += 1
        Button:
            id: subBtn
            size_hint_y: .1
            text: 'Sub'
            on_press: root.num_prop -= 1
        Button:
            id: newLayerBtn
            size_hint_y: .1
            text: 'New Layer'
            on_press: self.parent.add_layer()
        Button:
            id: printNumBtn
            size_hint_y: .1
            text: 'Print num_prop'
            on_press: print(root.num_prop)


<Layer>:
    id: alayer
    size_hint_y: None
    size: self.size[0], 65
    orientation: 'vertical'
    # Top row
    BoxLayout:
        id: scrollbox
        size_hint_y: None
        size: self.size[0], 25
        CheckBox: # radio button
            id: selbox
            size_hint_x: None
            size: 25, self.size[1]
            group: 'layerselect'
            on_press: root.set_active()
        CheckBox:
            size_hint_x: None
            size: 25, self.size[1]
        Spinner:
            on_press: root.spinner_press()
            font_size: 10
            text: 'Blend mode'
            values: 'Add', 'Sub'
        Button:
            text: 'Print active'
            group: 'test'
            on_press: root.print_active()
        Button:
            text: 'Print LID'
            group: 'test'
            on_press: root.print_id()
    # Lower fields
    BoxLayout:
        size_hint_y: None
        size: self.size[0], 40
        Label:
            id: thumb
            text: str(root.content)
            size_hint_x: None
            size: 40, self.size[1]
        ToggleButton:
            group: 'buttonselect'

<ScrollBox>:
    size_hint_y: .75
    do_scroll_x: False

<ScrollLayout>:
    orientation: 'vertical'
    canvas:
        Color:
            rgb: .25, .25, 0
        Rectangle:
            pos: self.pos
            size: self.size
    cols: 1
    padding: 10
    spacing: 10
    size_hint: (1, None)
